(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[7361],{89003:function(t,n,e){"use strict";e.r(n),e.d(n,{ImageZoomAPISymbol:function(){return u.Ai},page:function(){return g}});var o=e(43757),i=e(31191),r=e(61049),a=e(55048),u=e(95100),c=e(19238),l=function(t,n,e){var o=n.getParsedUrl().searchParams.get(u.dq);if(!o)return null;var i=t.get(u.tl),r=o.includes(u.K9)?o.split(u.K9)[0]:e[o]||(null==i?void 0:i.compId);return r?{dataItemId:o,compId:r}:null},d=(0,o.ff)([(0,o.t6)(r.$e,u.u2),a.xP,u.Ai,c.Iz],(function(t,n,e,o){var r=t.imageDataItemIdToCompId;return{onUrlChange:function(){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(t=l(n,o,r))?[4,e.openImageZoom(t.compId,t.dataItemId)]:[3,2];case 1:return i.sent(),[3,3];case 2:e.closeImageZoom(),i.label=3;case 3:return[2]}}))}))},pageDidMount:function(){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(t=l(n,o,r))?[4,e.openImageZoom(t.compId,t.dataItemId)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},pageDidUnmount:function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return e.closeImageZoom(),[2]}))}))}}})),s=e(59032),m=function(t,n,e,o,r){var a=function(t){var n=r.getParsedUrl();t?n.searchParams.set(u.dq,t):n.searchParams.delete(u.dq),r.pushUrlState(n)},c=function(r){return(0,i.mG)(void 0,void 0,void 0,(function(){var a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n.update(((a={})[u.tl]=r,a)),[4,e.addComponentToDynamicStructure(u.tl,{componentType:t.imageZoomCompType,components:[]})];case 1:return i.sent(),o.setSiteScrollingBlocked(!0,u.tl),[2]}}))}))},l=function(){e.isComponentInDynamicStructure(u.tl)&&(e.isComponentInDynamicStructure(u.tl)&&(e.removeComponentFromDynamicStructure(u.tl),o.setSiteScrollingBlocked(!1,u.tl)),a(null))},d=function(t){a(t)},s=function(n,e){var o="Smartphone"===t.deviceType,r=n.id,a=n.uri,u=n.alt,c=n.width,l=n.height,d=n.href,s=n.link,m=n.title,p=n.description,f=n.crop,h=n.filterEffectSvgString,v=n.filterEffectSvgUrl,g=(null==s?void 0:s.href)||(null==s?void 0:s.linkPopupId)?{link:s}:{},I=d?{link:(0,i.pi)((0,i.pi)({},s),{href:d})}:g;return(0,i.pi)((0,i.pi)({id:r,containerId:e,uri:a,alt:u,name:n.name,width:c,height:l,title:m,description:p,filterEffectSvgString:h,filterEffectSvgUrl:v},I),!o&&{crop:f})},m=function(o,r,m){return(0,i.mG)(void 0,void 0,void 0,(function(){var p,f,h,v,g,I,C;return(0,i.Jh)(this,(function(P){switch(P.label){case 0:return p=(0,i.CR)(o.split("__"),1),f=p[0],h=(0,i.pi)((0,i.pi)({},n.get(f)),n.get(o)),e.isComponentInDynamicStructure(u.tl)?[2]:(v=t.tpaGalleriesComps.hasOwnProperty(f),g=t.nativeGalleriesComps.hasOwnProperty(f),v?I=function(t,n){return t.images.map((function(t){return s(t,n)}))}(h,o):g?(S=h.items,I=S.map((function(t){var n=t.image,e=t.dataId,o=(0,i._T)(t,["image","dataId"]);return s((0,i.pi)((0,i.pi)({id:e},n),o))}))):I=[s(h,o)],C={images:I,onClose:function(){l(),m&&m()},onImageChange:d,dataItemId:r,compId:o,deviceType:t.deviceType},[4,c(C)]);case 1:return P.sent(),t.shouldChangeUrl&&a(r),[2]}var S}))}))};return{openImageZoom:m,closeImageZoom:l,addWPhotoOnClick:function(e){var o,r=t.wPhotoConfig[e];if(r&&!n.get(e).onClick){n.update(((o={})[e]={onClick:function(t){return(0,i.mG)(void 0,void 0,void 0,(function(){var o,a,c;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:return o=t.currentTarget.id||e,a=n.get(o),"zoomMode"!==(0,i.pi)((0,i.pi)({},n.get(e)),a).onClickBehavior?[2]:(c=a&&o!==e?""+o+u.K9+r:r,t.preventDefault(),t.stopPropagation(),[4,m(o,c)]);case 1:return l.sent(),[2]}}))}))}},o))}},addNativeGalleryOnClick:function(t){var e;n.update(((e={})[t]={openImageZoom:function(t,n,e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return[4,m(n,t,e)];case 1:return o.sent(),[2]}}))}))}},e))}}},p=(0,o.ff)([u.Ai],(function(t){return{componentTypes:["WPhoto"],componentWillMount:function(n){t.addWPhotoOnClick(n.id)}}})),f=(0,o.ff)([u.Ai],(function(t){return{componentTypes:u.d3,componentWillMount:function(n){t.addNativeGalleryOnClick(n.id)}}})),h=e(87821),v=e(65482),g=function(t){t(v.Vx).to(f),t(v.Vx).to(p),t(s.j.PageDidMountHandler,s.j.PageDidUnmountHandler,c.bV).to(d),t(u.Ai).to((0,o.ff)([(0,o.t6)(r.$e,u.u2),a.xP,a.QZ,h.x,c.Iz],m))}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/imageZoom.27bfed05.chunk.min.js.map